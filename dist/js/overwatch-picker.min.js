'use strict';

angular.module('overwatch-hero-picker', []);
'use strict';

angular.module('overwatch-hero-picker').component('owHeroList', {
    bindings: {
        onHeroSelected: '&'
    },
    template:'<input type=search ng-model=search placeholder="find a hero by name, type or description"><ul><li ng-repeat="hero in $ctrl.heroes | filter: search |orderBy: \'type\'"><a ng-click=$ctrl.selectHero(hero) href=javscript:void()><img ng-src={{hero.avatar}}><div class=details><h2>{{hero.name}}</h2><p>{{hero.type}}: {{hero.description}}</p></div></a></li></ul>',
    controller: function controller($http) {
        var _this = this;

        $http.get('data/heroes.json').then(function (response) {
            return _this.heroes = response.data;
        });

        this.selectHero = function (hero) {
            _this.onHeroSelected({ hero: hero });
        };
    }
});
'use strict';

angular.module('overwatch-hero-picker').component('owHeroPicker', {
    template:'<ow-hero-list on-hero-selected=$ctrl.onHeroSelected(hero)></ow-hero-list><div class=selected-heroes><h2>Selected Heroes</h2><ul><li ng-repeat="hero in $ctrl.selectedHeroes track by $index"><img ng-src={{hero.avatar}}> <button ng-click=$ctrl.removeSelectedHero($index)>remove</button></li></ul></div>',
    controller: function controller() {
        var _this = this;

        this.selectedHeroes = [];

        this.onHeroSelected = function (hero) {
            _this.selectedHeroes.push(hero);
        };

        this.removeSelectedHero = function (index) {
            _this.selectedHeroes.splice(index, 1);
        };
    }
});